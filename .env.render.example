#############################################
# Render Deployment Environment Template    #
#                                          #
# Copy relevant sections into each Render  #
# service's Environment Variables panel.   #
#############################################

# ==========================================
# BACKEND SERVICE (apps/backend)
# ------------------------------------------
# Secrets ONLY. Do NOT expose in frontend.
# ==========================================

# Core
PORT=$PORT                # Provided by Render automatically (leave as $PORT if editing locally)
MONGODB_URI=mongodb+srv://<user>:<pass>@cluster.mongodb.net/remodely-crm
JWT_SECRET=replace-with-long-random-string
NODE_ENV=production

# Origins / URLs
FRONTEND_URL=https://remodely-frontend.onrender.com
CORS_ORIGINS=https://remodely-frontend.onrender.com

# OAuth / Google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://remodely-frontend.onrender.com/auth/google/callback

# AI Providers (set the one(s) you use)
OPENAI_API_KEY=
GEMINI_API_KEY=
GEMINI_MODEL=gemini-1.5-pro

# Stripe
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# SendGrid
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=
SENDGRID_FROM_NAME=Remodely CRM

# Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
TWILIO_FUNCTION_BASE_URL=
TWILIO_INBOUND_VOICE_WEBHOOK=/voice-agent/webhook

# Cloudinary
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# ElevenLabs (Voice Agent)
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=
ELEVENLABS_AGENT_ID=
ELEVENLABS_STREAM_URL=wss://api.elevenlabs.io/v1/convai/stream

# Vector / Embeddings (choose one provider)
PINECONE_API_KEY=
PINECONE_INDEX=crm-context
UPSTASH_VECTOR_REST_URL=
UPSTASH_VECTOR_REST_TOKEN=

# Feature Toggles
ENABLE_IN_APP_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false

# Optional Queues / Redis
NOTIFICATIONS_QUEUE_REDIS_URL=redis://default:<password>@<host>:6379/5

# ==========================================
# FRONTEND SERVICE (apps/frontend)
# ------------------------------------------
# Public (NEXT_PUBLIC_*) variables only.    
# ==========================================

NEXT_PUBLIC_API_URL=https://remodely-backend.onrender.com/api
NEXT_PUBLIC_FRONTEND_URL=https://remodely-frontend.onrender.com
# If using alternative analytics or public keys add here (e.g., NEXT_PUBLIC_SENTRY_DSN)

# Matching Google OAuth (only ID + redirect, NO secret here)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
# Redirect URI is baked into code; ensure it matches:
# https://remodely-frontend.onrender.com/auth/google/callback

# ==========================================
# NOTES
# - Do NOT copy JWT_SECRET or other secrets into the frontend service.
# - Keep localhost origins out of production unless you need temporary local testing.
# - After first successful deploy, rotate JWT_SECRET if it was a simple placeholder.
# - Remove any unused provider keys to reduce attack surface.
# - If adding WebSocket auth later, ensure CORS and FRONTEND_URL stay aligned.
#############################################
